var h=Object.defineProperty;var _=(t,e,s)=>e in t?h(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var r=(t,e,s)=>(_(t,typeof e!="symbol"?e+"":e,s),s);const y=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const m of l.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function s(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerpolicy&&(l.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?l.credentials="include":i.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(i){if(i.ep)return;i.ep=!0;const l=s(i);fetch(i.href,l)}};y();class b{constructor(e){r(this,"container");this.container=document.querySelector(e)}addItem(e){var s;(s=this.container)==null||s.prepend(e)}}class v{constructor(e,{taskDeleter:s},{taskUpdater:o}){r(this,"classList");r(this,"id");r(this,"title");r(this,"completed");r(this,"date");r(this,"querySelector");r(this,"listItem");r(this,"taskDeleter");r(this,"taskUpdater");r(this,"_setIsCompleted",()=>{this.completed=!this.completed,this.taskUpdater(this.id,this.completed)});r(this,"toggleChecked",e=>{var s;(s=e.querySelector(".item__text"))==null||s.classList.toggle("item__text_disabled"),e.querySelector(".list__button_check").classList.toggle("list__button_clicked")});r(this,"_deleteItem",()=>{this.taskDeleter(this.id),this.listItem.remove()});this.task=e,this.id=e.id,this.title=e.title,this.completed=e.completed,this.date=e.date,this.taskDeleter=s,this.taskUpdater=o,this.listItem=this.createItem()}createItem(){const e=document.createElement("li");return e.className="item list-group-item d-flex justify-content-between w-75 mb-3",e.innerHTML=`
            <div class="item__elements">
              <button class="list__button list__button_check"></button>
              <p class="item__text">${this.title}</p>
            </div>
            <button class="list__button list__button_delete"></button>
      `,e}_setEventListeners(e){const s=e.querySelector(".list__button_check"),o=e.querySelector(".list__button_delete");s==null||s.addEventListener("click",()=>{this._setIsCompleted(),this.toggleChecked(e)}),o==null||o.addEventListener("click",this._deleteItem)}getListItem(){return this._setEventListeners(this.listItem),this.completed&&this.toggleChecked(this.listItem),this.listItem}}var u,k=new Uint8Array(16);function x(){if(!u&&(u=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!u))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return u(k)}var I=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function S(t){return typeof t=="string"&&I.test(t)}var n=[];for(var f=0;f<256;++f)n.push((f+256).toString(16).substr(1));function L(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=(n[t[e+0]]+n[t[e+1]]+n[t[e+2]]+n[t[e+3]]+"-"+n[t[e+4]]+n[t[e+5]]+"-"+n[t[e+6]]+n[t[e+7]]+"-"+n[t[e+8]]+n[t[e+9]]+"-"+n[t[e+10]]+n[t[e+11]]+n[t[e+12]]+n[t[e+13]]+n[t[e+14]]+n[t[e+15]]).toLowerCase();if(!S(s))throw TypeError("Stringified UUID is invalid");return s}function w(t,e,s){t=t||{};var o=t.random||(t.rng||x)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,e){s=s||0;for(var i=0;i<16;++i)e[s+i]=o[i];return e}return L(o)}const E=new b(".items-list"),d=document.querySelector(".todo__form"),c=d==null?void 0:d.querySelector(".todo__input");let a=[];C().forEach(t=>{a.push(t),g(t)});d==null||d.addEventListener("submit",t=>{if(t.preventDefault(),!((c==null?void 0:c.value)===""||(c==null?void 0:c.value)===null)&&c){const e={id:w(),title:c.value,completed:!1,date:new Date};a.push(e),g(e),p(a),c.value=""}});function g(t){const e=new v(t,{taskDeleter:q},{taskUpdater:T}).getListItem();E.addItem(e)}function p(t){localStorage.setItem("TASKS",JSON.stringify(t))}function C(){const t=localStorage.getItem("TASKS");return t?JSON.parse(t):[]}function T(t,e){a.forEach(s=>{s.id===t&&(s.completed=e)}),p(a)}function q(t){a=a.filter(e=>t!==e.id),p(a)}
